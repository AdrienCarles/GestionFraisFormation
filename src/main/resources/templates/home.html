<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Accueil</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>

<!-- Barre de navigation -->
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="#">Gestion des Frais</a>
    <div class="collapse navbar-collapse">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item"><a class="nav-link" th:href="@{/home}">Accueil</a></li>
            <li class="nav-item" th:if="${#authorization.expression('hasRole(''PROFESSEUR'')')}">
                <a class="nav-link" th:href="@{/declaration-form}">Faire une Déclaration</a>
            </li>
            <li class="nav-item" th:if="${#authorization.expression('hasRole(''PROFESSEUR'')')}">
                <a class="nav-link" th:href="@{/declarations}">Voir l'Historique</a>
            </li>
            <li class="nav-item" th:if="${#authorization.expression('hasRole(''ADMIN'')')}">
                <a class="nav-link" th:href="@{/admin}">Gestion Admin</a>
            </li>
            <li class="nav-item"><a class="nav-link" th:href="@{/logout}">Déconnexion</a></li>
        </ul>
    </div>
</nav>

<!-- Contenu de la page -->
<div class="container mt-4 text-center">
    <h1>Bienvenue sur la plateforme de gestion des frais de formation</h1>
    <p th:text="'Bonjour, ' + ${nomUtilisateur} + ' !'"></p>

    <div th:if="${#authorization.expression('hasRole(''PROFESSEUR'')')}">
        <a class="btn btn-primary" th:href="@{/declaration-form}">Faire une Déclaration</a>
        <a class="btn btn-secondary" th:href="@{/declarations}">Voir l'Historique</a>
    </div>

    <div th:if="${#authorization.expression('hasRole(''ADMIN'')')}">
        <a class="btn btn-danger" th:href="@{/admin}">Accès Admin</a>
    </div>
</div>

<!-- Footer -->
<footer class="footer mt-auto py-3 bg-light text-center">
    <div class="container">
        <span class="text-muted">&copy; 2025 Gestion des Frais de Formation</span>
    </div>
</footer>

</body>
</html>
